import{_ as N}from"./DurationDisplay.vue.0d7e7768.js";import{a as y,D as v,m as w,o as _,f as m,h as e,l as d,x as u,u as s,F as S,v as B,t as p,q as T,i as x,ab as D,b as F,c as V,w as C,y as z}from"./entry.e1ce6ad4.js";import{_ as E}from"./NSectionBlock.cef5b3bf.js";import"./NIconTitle.vue.6c944aa7.js";const I={"w-full":""},L={border:"b base"},O={"select-none":"",p1:"","ws-nowrap":"","text-right":"","font-bold":""},j={colspan:"2","font-bold":"",p1:"","text-left":"",pl5:""},q={p1:"","font-bold":"","ws-nowrap":"","text-center":""},A={p1:"","text-center":"","font-bold":"","ws-nowrap":""},M={p1:"","text-right":"","font-bold":"","ws-nowrap":""},P={"text-center":"","ws-nowrap":"","text-sm":"",op25:"","w-0":""},R={"text-sm":""},G={"ws-nowrap":""},J={"text-sm":""},K={"text-center":"","text-sm":"","w-0":""},Q={"text-center":"","text-sm":"","w-0":""},U={"text-right":"","text-sm":"","w-0":""},W=y({__name:"HooksTable",props:{hooks:null},setup(b){const l=b,a=v("duration"),r=v("asc"),f={duration:(o,t)=>(t.duration??1/0)-(o.duration??1/0),name:(o,t)=>o.name.localeCompare(t.name),listener:(o,t)=>t.listeners-o.listeners,start:(o,t)=>t.start-o.start,executions:(o,t)=>t.executions.length-o.executions.length},k=w(()=>l.hooks.map(o=>o.start).sort((o,t)=>o-t)),h=w(()=>{const o=f[a.value],t=[...l.hooks].sort(o);return r.value==="desc"&&t.reverse(),t});function i(o){const t=o.split(":");return t.length===1?"":`${t[0]}:`}function $(o){const t=o.split(":");return t.length===1?o:t.slice(1).join(":")}function H(o){let t=0;for(let n=0;n<o.length;n++)t=o.charCodeAt(n)+((t<<5)-t);return`hsl(${t%360}, 65%, 50%)`}function c(o){a.value===o?r.value=r.value==="asc"?"desc":"asc":a.value=o}return(o,t)=>{const g=N;return _(),m("table",I,[e("thead",L,[e("tr",null,[e("th",O,[e("button",{onClick:t[0]||(t[0]=n=>c("start"))},[d(" Order "),e("div",{"text-xs":"","ml--1":"",class:u([s(a)==="start"?"op50":"op0",s(r)==="asc"?"carbon-arrow-down":"carbon-arrow-up"])},null,2)])]),e("th",j,[e("button",{onClick:t[1]||(t[1]=n=>c("name"))},[d(" Hook name "),e("div",{"text-xs":"","ml--1":"",class:u([s(a)==="name"?"op50":"op0",s(r)==="asc"?"carbon-arrow-down":"carbon-arrow-up"])},null,2)])]),e("th",q,[e("button",{onClick:t[2]||(t[2]=n=>c("listener"))},[d(" Listeners "),e("div",{"text-xs":"","ml--1":"",class:u([s(a)==="listener"?"op50":"op0",s(r)==="asc"?"carbon-arrow-down":"carbon-arrow-up"])},null,2)])]),e("th",A,[e("button",{onClick:t[3]||(t[3]=n=>c("executions"))},[d(" Executions "),e("div",{"text-xs":"","ml--1":"",class:u([s(a)==="executions"?"op50":"op0",s(r)==="asc"?"carbon-arrow-down":"carbon-arrow-up"])},null,2)])]),e("th",M,[e("button",{onClick:t[4]||(t[4]=n=>c("duration"))},[d(" Duration "),e("div",{"text-xs":"","ml--1":"",class:u([s(a)==="duration"?"op50":"op0",s(r)==="asc"?"carbon-arrow-down":"carbon-arrow-up"])},null,2)])])])]),e("tbody",null,[(_(!0),m(S,null,B(s(h),n=>(_(),m("tr",{key:n.name,border:"b dashed transparent hover:base"},[e("td",P,p(s(k).indexOf(n.start)),1),e("td",{"text-right":"","w-0":"","ws-nowrap":"",style:T({color:H(i(n.name))})},[e("code",R,p(i(n.name)),1)],4),e("td",G,[e("code",J,p($(n.name)),1)]),e("td",K,p(n.listeners),1),e("td",Q,p(n.executions.length+1),1),e("td",U,[x(g,{duration:n.duration},null,8,["duration"])])]))),128))])])}}}),ot=y({__name:"hooks",setup(b){const l=D(),a=F(),r=w(()=>a.value?.getClientHooksMetrics());return(f,k)=>{const h=W,i=E;return _(),m("div",null,[s(r)?.length?(_(),V(i,{key:0,icon:"carbon-ibm-cloud-direct-link-1-dedicated-hosting",text:"Client Hooks",description:`Total hooks: ${s(r).length}`,padding:"pl4 pr6"},{default:C(()=>[x(h,{hooks:s(r)},null,8,["hooks"])]),_:1},8,["description"])):z("",!0),x(i,{icon:"carbon-ibm-cloud-direct-link-2-dedicated",text:"Server Hooks",description:`Total hooks: ${s(l).length}`,padding:"pl4 pr6"},{default:C(()=>[x(h,{hooks:s(l)},null,8,["hooks"])]),_:1},8,["description"])])}}});export{ot as default};
