import{_ as y}from"./StateEditor.vue.96fdf802.js";import{a as k,o as t,f as r,F as $,v as g,c as p,w as a,L as S,n as C,g as N,b as B,m as w,u as s,i as c,y as m,l as D,k as E}from"./entry.e1ce6ad4.js";import{_ as F}from"./NSectionBlock.cef5b3bf.js";import{_ as P}from"./NIconButton.vue.8aefaa88.js";import"./NIconTitle.vue.6c944aa7.js";const R={key:0,flex:"~ col gap-1"},V={key:1,italic:"",px4:"",mt2:"",op35:""},j=k({__name:"StateGroup",props:{state:null,prefix:{default:""}},setup(n){return(i,o)=>{const l=y;return t(),r("div",null,[n.state&&Object.keys(n.state).length>0?(t(),r("div",R,[(t(!0),r($,null,g(n.state,(u,e)=>(t(),p(l,{key:e,state:u,name:e.startsWith(n.prefix)?e.slice(n.prefix.length):e},{actions:a(d=>[S(i.$slots,"actions",C(N(d)))]),_:2},1032,["state","name"]))),128))])):(t(),r("div",V," No data "))])}}}),G={key:0},I=k({__name:"payload",setup(n){const i=B(),o=w(()=>i.value?.nuxt.payload);async function l(u){await i.value?.nuxt.hooks.callHookParallel("app:data:refresh",u)}return(u,e)=>{const d=j,_=F,h=E,b=P,v=y;return s(i)?(t(),r("div",G,[c(_,{icon:"carbon-data-set",text:"State",description:"Keyed state from `useState`",padding:!1},{default:a(()=>[c(d,{state:s(o).state,prefix:"$s"},null,8,["state"])]),_:1}),c(_,{icon:"carbon-data-blob",text:"Data",description:"Keyed state from `useAsyncData`",padding:!1},{actions:a(()=>[c(h,{n:"xs primary","self-start":"",icon:"i-carbon-recycle",onClick:e[0]||(e[0]=x=>l())},{default:a(()=>[D(" Re-fetch all data ")]),_:1})]),default:a(()=>[c(d,{state:s(o).data},{actions:a(({isOpen:x,name:f})=>[x&&f?(t(),p(b,{key:0,title:`Re-fetch '${f}'`,icon:"carbon-recycle",onClick:K=>l([f])},null,8,["title","onClick"])):m("",!0)]),_:1},8,["state"])]),_:1}),s(o).functions&&Object.keys(s(o).functions).length?(t(),p(_,{key:0,icon:"carbon-function",text:"Functions",description:"State for functions (experimental)"},{default:a(()=>[c(v,{"ml--6":"",state:s(o).functions},null,8,["state"])]),_:1})):m("",!0)])):m("",!0)}}});export{I as default};
